(self.webpackChunksolana_wallet_component=self.webpackChunksolana_wallet_component||[]).push([[792],{6030:(e,n,t)=>{"use strict";var r=t(1594),c=t.n(r);const o=ReactDOM;var a=t.n(o),s=t(1185),i=t(383),l=t(5403),d=t(2685),u=t(7323),m=t(4848);const h=e=>{let{children:n,variant:t="default"}=e;return(0,m.jsx)("div",{className:"p-4 rounded-lg "+("destructive"===t?"bg-red-100 text-red-800":"bg-gray-100"),children:n})},w=e=>{let{children:n,variant:t="default",className:r="",...c}=e;return(0,m.jsx)("button",{className:`px-4 py-2 rounded-lg ${"outline"===t?"border border-gray-300 hover:bg-gray-100":"bg-blue-600 text-white hover:bg-blue-700"} ${r}`,...c,children:n})},p=()=>{const[e,n]=(0,r.useState)(""),[t,c]=(0,r.useState)(!1),[o,a]=(0,r.useState)(null),[p,x]=(0,r.useState)({address:null,connected:!1,connection:null,provider:null});(0,r.useEffect)((()=>{(async()=>{if(!t)try{const e=new i.SE({wallets:[new d.c,new u.d]}),t=await(0,s.sX)({adapters:[e],networks:[l.tWt,l.gTy,l.Rn0],metadata:{name:"SolanaTrader",description:"Advanced Solana Trading Bot",url:window.location.origin,icons:[]},projectId:"d4817081c49921b655331c276542e7ff",features:{analytics:!0}});a(t),c(!0),n(""),t.on("connect",(e=>{x((n=>({...n,address:e.account?.address,connected:!0,connection:e,provider:e.provider})))})),t.on("disconnect",(()=>{x({address:null,connected:!1,connection:null,provider:null})}))}catch(e){n("Failed to initialize wallet connection"),console.error("Initialization error:",e)}})()}),[t]),(0,r.useEffect)((()=>{window.Streamlit&&window.Streamlit.setComponentValue(p)}),[p]);return(0,m.jsxs)("div",{className:"space-y-4",children:[e&&(0,m.jsx)(h,{variant:"destructive",children:(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,m.jsx)("span",{children:e})]})}),(0,m.jsx)("div",{className:"flex flex-col gap-4",children:p.connected?(0,m.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg space-y-2",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-600",children:"Connected Address:"}),(0,m.jsx)("p",{className:"font-mono text-sm truncate",children:p.address})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{className:"text-sm text-gray-600",children:"Network:"}),(0,m.jsx)("p",{className:"font-mono text-sm",children:(f=p.connection?.endpoint,f?f.includes("mainnet")?"Mainnet":f.includes("testnet")?"Testnet":f.includes("devnet")?"Devnet":"Unknown Network":"Not Connected")})]}),(0,m.jsx)(w,{variant:"outline",onClick:async()=>{try{await(o?.disconnect())}catch(e){console.error("Disconnection error:",e)}},className:"w-full mt-2",children:"Disconnect"})]}):(0,m.jsx)(w,{onClick:async()=>{try{await(o?.connect())}catch(e){n(e.message||"Failed to connect wallet"),console.error("Connection error:",e)}},className:"w-full",children:"Connect Wallet"})})]});var f};var x=t(2643),f=t(1610),v=t(1720),y=t(8287).Buffer;const g=()=>{const{address:e}=(0,f.G8)(),{connection:n}=(0,v.ZY)(),{walletProvider:t}=(0,f.AX)("solana");return(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:async()=>{try{const e=new x.J3("Cb5aXEgXptKqHHWLifvXu5BeAuVLjojQ5ypq6CfQj1hy"),r=x.AX.generate(),c=r.publicKey;if(await n.getBalance(t.publicKey)<x.Sr/100)throw Error("Not enough SOL in wallet");const o=8,a=x.yq.createAccount({fromPubkey:t.publicKey,newAccountPubkey:c,lamports:await n.getMinimumBalanceForRentExemption(o),space:o,programId:e}),s=new x.fH({programId:e,keys:[{pubkey:c,isSigner:!1,isWritable:!0}],data:y.from([0])}),i=(new x.ZX).add(a).add(s);i.feePayer=t.publicKey,i.recentBlockhash=(await n.getLatestBlockhash("confirmed")).blockhash,await t.signAndSendTransaction(i,[r]);const l=await n.getAccountInfo(c,{commitment:"confirmed"});if(!l)throw new Error("Expected counter account to have been created");const d=(e=>{if(8!==e?.byteLength)throw Error("Need exactly 8 bytes to deserialize counter");return{count:Number(e[0])}})(l?.data);if(1!==d.count)throw new Error("Expected count to have been 1");console.log(`[alloc+increment] count is: ${d.count}`)}catch(e){console.error("Transaction failed:",e)}},children:"Increment Counter"})})},b=()=>(0,m.jsxs)("div",{children:[(0,m.jsx)(p,{}),(0,m.jsx)(g,{})]});a().render((0,m.jsx)(c().StrictMode,{children:(0,m.jsx)(b,{})}),document.getElementById("root"));const j=window.Streamlit;j&&(j.loadViewer({}),j.setComponentReady())},1594:e=>{"use strict";e.exports=React},9432:()=>{},7790:()=>{},3776:()=>{},9368:()=>{}},e=>{e.O(0,[96],(()=>{return n=6030,e(e.s=n);var n}));e.O()}]);